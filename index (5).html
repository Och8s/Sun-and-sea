<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Demo Àudio i Vídeo</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <!-- Deixem l'etiqueta audio sense controls. Veieu que desapareix tot. -->
    <div id="titol">
        <h1>PROVA AUDIO</h1>
        <div class="logo2">
            <img src="altavoz.png" alt="Logo Alpine" width="50" height="50">

        </div>
    </div>    
    <audio id="player">
        <source src="media/uplifting-feel-good-152994.mp3" type="audio/mp3">
        Ho sento, el teu navegador no suporta àudio d'HTML5.
    </audio>
    <!-- Afegim una capa que mostra si l'àudio s'està reproduint: ho fem amb una animació CSS. -->
    <div class="fonsPlayer">
        <div class="ocean">
            <div class="wave"></div>
            <div class="wave"></div>
          </div>
          <!-- Agregamos el logo en la esquina -->
        <div class="logo">
            <img src="alpine.svg" alt="Logo Alpine" width="50" height="50"> <!-- Aquí insertamos el logo SVG -->
        </div>
    </div>   
    <div class="controlButtons">
        <!-- Botó Play -->
        <button id="playButton" onclick="playAudio();">
            <svg width="50" height="50" viewBox="0 0 100 100">
                <polygon points="30,20 80,50 30,80" fill="green" />
            </svg>
        </button>
        <!-- Botó Pause -->
        <button id="pauseButton" onclick="pauseAudio();" style="display: none;">
            <svg width="50" height="50" viewBox="0 0 100 100">
                <rect x="30" y="20" width="15" height="60" fill="red" />
                <rect x="55" y="20" width="15" height="60" fill="red" />
            </svg>
        </button>
        <!-- Slider de volum -->
        <div class="volumeControl">
            <label for="volumeSlider">Volum:</label>
            <input id="volumeSlider" type="range" min="0" max="1" step="0.1" value="1" onchange="adjustVolume(this.value);">
        </div>
                
    </div>
    <!-- Recordeu que heu de seguir les lleis en matèria de propietat intelectual.
         En aquest cas, cal nomenar i enllaçar l'autor i el tipus de llicència. 
    -->
    <div style="padding: 0.5em; margin-bottom: 1em; border: 1px; background-color: #b6b5b5; font-size: 0.9em;">
        "<a rel="nofollow" href="https://timtaj.com/royalty-free-music/background-technology">Background Technology</a>" 
        by <a rel="nofollow" href="https://freemusicarchive.org/music/timtaj/contact">Taj Tim</a> 
        is licensed under <a rel="nofollow" href="https://creativecommons.org/licenses/by-nc-nd/4.0/">Attribution-NonCommercial-NoDerivatives 4.0 International License</a>
    </div>
    <div style="padding: 0.5em; margin-bottom: 1em; border: 1px; background-color: #b6b5b5; font-size: 0.9em;">
        "Animació CSS de <a rel="nofollow" href="https://codepen.io/tedmcdo">Ted MacDonald / Version by Javier Manjón</a>: 
        a CodePen <a rel="nofollow" href="https://codepen.io/tedmcdo/pen/PqxKXg">CSS & SVG Waves Animation / Sun and sea</a>
    </div>
    
    
 
    <!-- Cal seleccionar l'element d'àudio. -->
    <script>
        let audio = document.getElementById('player');
        let playButton = document.getElementById('playButton');
        let pauseButton = document.getElementById('pauseButton');
        let waves = document.querySelectorAll('.wave'); // Seleccionem les onades

        let logo2Activo = false;

        function playAudio() {
            audio.play(); // Reproducir el audio
            playButton.style.display = 'none'; // Ocultar el botón Play
            pauseButton.style.display = 'inline'; // Mostrar el botón Pause
            waves.forEach(function(wave) {
                wave.classList.add('playing');
            });
            // Mostrar el logo y activar su animación
            let logo2 = document.querySelector('.logo2');
            if (logo2Activo === false) {
                logo2.style.display = 'block'; // Asegurarse de que el logo esté visible
                logo2.classList.remove('pausado'); // Quitar clase 'pausado' para activar la animación
                logo2Activo = true;
            }
        }

        function pauseAudio() {
            audio.pause(); // Pausar l'àudio
            playButton.style.display = 'inline'; // Mostrar el botó Play
            pauseButton.style.display = 'none'; // Amagar el botó Pause
            waves.forEach(function(wave) {
                wave.classList.remove('playing');
            });

            // Mostrar el logo sin animación y con opacidad normal
            let logo2 = document.querySelector('.logo2');
            if (logo2Activo === true) {
                logo2.classList.add('pausado'); // Activar la clase 'pausado' que detiene la animación
                logo2.style.opacity = '1'; // Asegurarse de que el logo esté visible
                logo2Activo = false;
            }
        }

        function adjustVolume(value) {
            audio.volume = value; // Ajustem el volum segons el valor del slider
        }


        
    </script>
    
</body>
</html>